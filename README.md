# SQL练习册
1. 查询课程编号为0001比0002的课程成绩低的所有学生的学号
INNER JOIN(JOIN):在表中存在至少一个匹配时返回行。
```
- 第一个子查询得出0001成绩作为新表A
- 第二个子查询得出0002成绩，按学号与A表及学生表内连接
- 第三个条件筛选得出1比2低的所有学号
```

2. 查询平均成绩大于60分的学生的学号和平均成绩
GROUP BY：用于结合聚合函数，根据一个或多个列对结果集进行分组。
HAVING：WHERE关键字无法与聚合函数一起使用，用于条件筛选。
SELECT：在分组查询时，GROUP BY后的字段和聚合函数才能出现在SELECT里。
```
- 按学号进行分组
- 利用AVG函数求出平均分
```

3. 查询所有学生的学号、姓名、选课数、总成绩
LEFT JOIN:一对多的情况下，以左表为准，右表记录若少于左表关联不上，字段则为NULL。
CASE WHEN:搜索函数允许根据比较值在结果集内对值进行替换。
```
- 将学生表左连接分数表，
- 按学号和姓名进行分组，
- 筛选字段count计算课程数。
```

4. 查询姓"马"的老师的个数
DISTINCT：对查询结果进行去重。

5. 查询没学过"马化腾"老师课的学生的学号、姓名 
```
- 第一个子查询得出该老师的ID
- 第二个子查询根据教师ID得出对应课程ID
- 第三个子查询根据课程ID得出学过的学生ID
- 第四个条件筛选得出学号、姓名
```

6. 查询学过编号为0001的课程并且也学过0002的课程的学生的学号、姓名
```
- 两个子查询得出1课程和2课程的学生ID
- 利用IN操作符从学生表根据ID得出姓名
```

7. 查询所有课程成绩大于60分的学生的学号、姓名
```
- 第一个子查询得出同学课程成绩大于60分的课程数
- 第二个子查询统计同学总共学了几门课
- 两者数目相等意味着所有课程分数小于60分
```

8. 查询没有学全所有课的学生的学号、姓名
```
- 第一个子查询得出共有几门课
- 按学号学生表左连接分数表并按学号分组
- 对应学生课程数小于总课数，意味着没有学全
```

9. 查询至少有一门课与0001号同学所学课程相同的学生学号和姓名
```
- 第一个子查询得出0001同学所学课程
- 第二个子查询得出至少有一门课相同的学号
- 内连接学生表得到相应姓名
```

10. 查询和0001号同学所学课程完全相同的其他同学的学号
```
- 第一个子查询找出与1号同学学过不同课程的学生，直接排除
- 第二个查询找出选了1号同学课程的某几门，通过判断所学课程数
```

